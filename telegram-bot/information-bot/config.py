import dotenv
import requests
import os

dotenv.load_dotenv()

TOKEN = os.getenv("TOKEN")
TOKEN_CHAT_CURATOR = os.getenv("TOKEN_CHAT_CURATOR")
URL_SERVER = os.getenv("URL_SERVER")
URL_REDIS = os.getenv("URL_REDIS")
NGROK_TUNNEL_URL = os.getenv("NGROK_TUNNEL_URL")
URL_BOT_CHAT_CURATOR = os.getenv("URL_BOT_CHAT_CURATOR")

COOKIE = ""


def get_cookie():
    global COOKIE

    if COOKIE == "":
        url = "http://core:5000/login/"
        body = {
            "email": "admin",
            "password": "admin",
        }

        session = requests.Session()
        response = session.post(url, json=body)
        name = ".AspNetCore.Identity.Application"
        COOKIE = name + "=" + response.cookies.get_dict()[name]

    return COOKIE



test_data_course = [{
    "name_course": "–í–≤–æ–¥–Ω—ã–π –∫—É—Ä—Å", 
    "sections": [
    {
        "name": "–õ–ö –£–†–§–£", 
        "callback_data": "lk_urfu", 
        "topics": [
        {
            "name": "–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è", 
            "text": "–ö –£—Ä–§–£ - —ç—Ç–æ —Ç–≤–æ–π –≥–ª–∞–≤–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—Å–∫–æ–π —Å—Ä–µ–¥–µ. –ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω–∞ –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏(–ë–†–°) –∏ –≤–Ω–µ—É—á–µ–±–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –¥–æ—Å—Ç—É–ø–Ω—ã –¥–µ—Å—è—Ç–∫–∏ –ø–æ–ª–µ–∑–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.",
            "question": None, 
            "answer": None
        }, 
        {
            "name": "–°–æ–∑–¥–∞–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏", 
            "text": "–ü–µ—Ä–µ–π–¥–∏ –ø–æ —Å—Å–ª—ã–ª–∫–µ: https://urfu.ru/ru\n\n–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å, —Ç–µ–±–µ –Ω—É–∂–Ω–æ –∫–ª–∏–∫–Ω—É—Ç—å –ø–æ –∫—Ä–∞—Å–Ω–æ–π –∫–Ω–æ–ø–∫–µ ‚Äú–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç‚Äù –≤ –ø—Ä–∞–≤–æ–π –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞.\n\n–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å, —Ç–µ–±–µ –Ω—É–∂–Ω–æ –∫–ª–∏–∫–Ω—É—Ç—å –ø–æ –∫—Ä–∞—Å–Ω–æ–π –∫–Ω–æ–ø–∫–µ ‚Äú–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç‚Äù –≤ –ø—Ä–∞–≤–æ–π –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞.\n\n–ò–∑ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–µ–≥–æ—Å—è –ø–µ—Ä–µ—á–Ω—è –≤—ã–±–µ—Ä–∏ ‚Äú–ê–±–∏—Ç—É—Ä–∏–µ–Ω—Ç—É‚Äù –∏ –∫–ª–∏–∫–Ω–∏ ‚Äú–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è‚Äù.\n\n–ó–∞–ø–æ–ª–Ω–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—É—é —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é —Ñ–æ—Ä–º—É, —É–∫–∞–∑–∞–≤:\nEmail –∏–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞.\n–£—Ä–æ–≤–µ–Ω—å –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è.\n–ü–∞—Ä–æ–ª—å (–¥–≤–∞–∂–¥—ã –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è).\n–ü–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—è —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö.\n–ó–∞—Ç–µ–º –Ω–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É ‚Äú–ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å‚Äù", 
            "question": "–ü–æ–ª—É—á–∏–ª–æ—Å—å –∑–∞—Ä–∞–≥–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è?", 
            "answer": "–ï—Å–ª–∏ —É —Ç–µ–±—è –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å –ø–µ—Ä–µ–π—Ç–∏ –ø–æ —Å—Å—ã–ª–∫–µ, –æ—Ç–∫—Ä–æ–π –±—Ä–∞—É–∑–µ—Ä, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ, –≤–≤–µ–¥–∏ –≤ –ø–æ–∏—Å–∫–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ ‚Äú–£—Ä–§–£‚Äù, –ø–µ—Ä–µ–π–¥–∏ –ø–æ –ø–µ—Ä–≤–æ–π —Å—Å—ã–ª–∫–µ ‚Äî –∏ —Ç—ã –ø–æ–ø–∞–¥–µ—à—å –Ω–∞ —Å–∞–π—Ç."
        }, 
        {
            "name": "–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –õ–ö", 
            "text": "–ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –õ–ö —Å—Ç—É–¥–µ–Ω—Ç–∞ —Ç—ã —Å–º–æ–∂–µ—à—å, –∫–æ–≥–¥–∞ –±—É–¥—É—Ç –∏–∑–¥–∞–Ω—ã –ø—Ä–∏–∫–∞–∑—ã ‚Äù –û –∑–∞—á–∏—Å–ª–µ–Ω–∏–∏ –≤ –í–£–ó‚Äù –∏ ‚Äú–û –∑–∞—á–∏—Å–ª–µ–Ω–∏–∏ –≤ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫—É—é –≥—Ä—É–ø–ø—É‚Äù. –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ —Å—É—Ç–æ–∫ –ø–æ—Å–ª–µ –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –ø—Ä–∏–∫–∞–∑–∞ –≤ —Å–∏–ª—É.",
            "question": None, 
            "answer": None
        }, 
        {
            "name": "–ë–†–°", 
            "text": "–ë–†–° (–ë–∞–ª—å–Ω–æ-—Ä–µ–π—Ç–∏–Ω–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞) - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –¥–ª—è —É—á–µ—Ç–∞ —É—á–µ–±–Ω—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –æ—Ü–µ–Ω–∫–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞—á–µ—Ç–æ–≤, —ç–∫–∑–∞–º–µ–Ω–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ä–º –∫–æ–Ω—Ç—Ä–æ–ª—è.\n\n–ó–∞–π–¥–∏ –≤ –õ–ö –£—Ä–§–£ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏ —Å–≤–æ–∏ –±–∞–ª–ª—ã –≤ –ë–†–°.  https://istudent.urfu.ru ‚Ä®‚Ä®–ë–†–° –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ ‚Äú–£—á–µ–±–∞‚Äù  –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –õ–ö.",
            "question": "–¢—ã —Å–º–æ–≥ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ–∏ –±–∞–ª–ª—ã?", 
            "answer": "1. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑ –∑–∞–≥–ª—è–Ω—É—Ç—å –≤ –õ–ö –£—Ä–§–£ –∏ –ø—Ä–æ–≤–µ—Ä—å, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Ç—ã –≤–æ—à—ë–ª.\n\n2. –ü–æ–ø—Ä–æ–±—É–π –ø–µ—Ä–µ–π—Ç–∏ –ø–æ —Å—Å—ã–ª–∫–µ  https://istudent.urfu.ru/s/http-urfu-ru-ru-students-study-brs\n\n3. –†–∞–¥–∏–æ–≥–∏–¥ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–æ–º–æ—â—å: ‚Äú–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤—Ö–æ–¥—É –≤ –ë–†–° –µ—Å—Ç—å –ø–æ —Å—Å—ã–ª–∫–µ: chrome-extension://efaidnbmnnnibpcajpcglclefindmkaj/https://urfu.ru/fileadmin/user_upload/urfu.ru/documents/brs/Instrukcija_studentam.pdf‚Äù"
        }, 
        {
            "name": "–ö–æ–Ω–µ—Ü —Ä–∞–∑–¥–µ–ª–∞", 
            "text": "–û—Ç–ª–∏—á–Ω–æ! \n\nüéâ–¢–µ–ø–µ—Ä—å —Ç—ã —É–º–µ–µ—à—å –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –õ–ö –£—Ä–§–£. üñ•Ô∏è–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ø–æ–º–∏–º–æ –ë–†–°, –≤ –õ–ö –µ—Å—Ç—å –º–Ω–æ–≥–æ –¥—Ä—É–≥–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã –º–æ–∂–µ—à—å –∏–∑—É—á–∏—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ:\nüìö –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π\nüìã –î–æ–∫—É–º–µ–Ω—Ç—ã –∏ —Å–ø—Ä–∞–≤–∫–∏\nüì® –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å —Å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏\n\n–ò—Å—Å–ª–µ–¥—É–π —Å–∞–º ‚Äî —É–≤–µ—Ä–µ–Ω, —Ç—ã –Ω–∞–π–¥—ë—à—å –º–Ω–æ–≥–æ –ø–æ–ª–µ–∑–Ω–æ–≥–æ! üöÄ",
            "question": None, 
            "answer": None
        }, 
        ]
    },
    {
        "name": "Modeus", 
        "callback_data": "modeus", 
        "topics": [
        {
            "name": "–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è", 
            "text": "–ú–æ–¥–µ—É—Å - —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π —Å—Ç—É–¥–µ–Ω—Ç—ã —Å–º–æ—Ç—Ä—è—Ç —Å–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –∞ —Ç–∞–∫–∂–µ –≤—ã–±–∏—Ä–∞—é—Ç –ò–û–¢. –ü—Ä–æ —Ç–æ, —á—Ç–æ —Ç–∞–∫–æ–µ –ò–û–¢, –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –ø–æ–∑–∂–µ.\n\n–í –ú–æ–¥–µ—É—Å–µ –≤—ã–±–æ—Ä—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –∫–∞–∂–¥—ã–µ –ø–æ–ª–≥–æ–¥–∞. –ú—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–ø–æ–º–Ω–∏–º, –∫–æ–≥–¥–∞ –Ω–∞—á–Ω–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø.", 
            "question": None, 
            "answer": None
        },
        {
            "name": "–í—ã–±–æ—Ä –ø—Ä–µ–¥–º–µ—Ç–æ–≤", 
            "text": "–í—ã–±–æ—Ä –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ø–µ—Ä–≤–æ–≥–æ –∫—É—Ä—Å–∞ –∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Modeus. –ù–∞ –ø–µ—Ä–≤–æ–º —Å–µ–º–µ—Å—Ç—Ä–µ –ø–µ—Ä–≤–æ–≥–æ –∫—É—Ä—Å–∞ –≤—Å–µ —Å—Ç—É–¥–µ–Ω—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–∞–≤–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö  –≤—ã–±–æ—Ä–∞. –ù–∞—á–∏–Ω–∞—è —Å–æ –≤—Ç–æ—Ä–æ–≥–æ –∫—É—Ä—Å–∞, –≤—ã–±–æ—Ä –¥–∏—Å—Ü–∏–ø–ª–∏–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–ª–Ω. –í–æ–ª–Ω–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –µ–≥–æ —Å—Ä–µ–¥–Ω–µ–≥–æ –±–∞–ª–ª–∞ –∑–∞ —Å–µ–º–µ—Å—Ç—Ä: —á–µ–º –≤—ã—à–µ —Å—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª, —Ç–µ–º –≤—ã—à–µ –≤–æ–ª–Ω–∞. –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª –≤—ã—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É —Å—Ä–µ–¥–Ω–µ–≥–æ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–≥–æ.", 
            "question": None, 
            "answer": None
        },
        {
            "name": "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ", 
            "text": "–ó–∞–≥–ª—è–Ω–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É Modeus, –Ω–∞–π–¥–∏ —Å–≤–æ—ë —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–π—Å—è –∫–æ –º–Ω–µ. https://urfu.modeus.org\n\n–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤ —Ä–∞–∑–¥–µ–ª–µ ‚Äú–ú–æ—ë —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ‚Äù", 
            "question": "–¢—ã –Ω–∞—à–µ–ª —Å–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ?", 
            "answer": "1. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑ –∑–∞–≥–ª—è–Ω—É—Ç—å –≤ Modeus –∏ –ø—Ä–æ–≤–µ—Ä—å, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Ç—ã –≤–æ—à—ë–ª\n\n2. –ü–æ–ø—Ä–æ–±—É–π –ø–µ—Ä–µ–π—Ç–∏ –ø–æ —Å—Å—ã–ª–∫–µ –ø–æ–∑–∂–µ https://urfu.modeus.org."
        },
        {
            "name": "–ö–æ–Ω–µ—Ü —Ä–∞–∑–¥–µ–ª–∞", 
            "text": "–û—Ç–ª–∏—á–Ω–æ! üéâ \n–¢–µ–ø–µ—Ä—å —Ç—ã —É–º–µ–µ—à—å –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è Modeus. üì±", 
            "question": None, 
            "answer": None
        }
        ]
    },
    {
        "name": "–ó–∞–Ω—è—Ç–∏—è", 
        "callback_data": "subjects", 
        "topics": [
        {
            "name": "–ö—É–¥–∞ –∏–¥—Ç–∏?", 
            "text": "–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞–Ω—è—Ç–∏–π –ø—Ä–æ—Ö–æ–¥—è—Ç –≤ –æ—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ, –æ–¥–Ω–∞–∫–æ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç—Å—è –∏ –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å—ã. –û—á–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏–Ω—Å—Ç–∏—Ç—É—Ç–∞—Ö –£—Ä–§–£. –°—Ç—É–¥–µ–Ω—Ç –º–æ–∂–µ—Ç –Ω–∞–∂–∞—Ç—å –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ –≤ Modeus, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –Ω–æ–º–µ—Ä –∞—É–¥–∏—Ç–æ—Ä–∏–∏, –≥–¥–µ –±—É–¥–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, ¬´–†¬ª –≤ –Ω–æ–º–µ—Ä–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –†-100) –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –†–∞–¥–∏–æ—Ñ–∞–∫–µ. –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏–π –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ —Å –ø–æ–º–æ—â—å—é –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä–∞ –£—Ä–§–£ –Ω–∞ —Å–∞–π—Ç–µ https://how-to-navigate.ru/.",
            "question": None, 
            "answer": None
        },
        {
            "name": "–ò–û–¢", 
            "text": "–í –ò–†–ò–¢-–†–¢–§ —Ç—ã –±—É–¥–µ—à—å —É—á–∏—Ç—å—Å—è –ø–æ —Å–∏—Å—Ç–µ–º–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π (–ò–û–¢). –í—ã–±–æ—Ä –¥–∏—Å—Ü–∏–ø–ª–∏–Ω —Ç–∞–∫ –∂–µ –±—É–¥–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –≤ –ú–æ–¥–µ—É—Å–µ. \n\n–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏¬† ‚Äì —ç—Ç–æ¬†–ø–æ–¥—Ö–æ–¥, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Å—Ç—É–¥–µ–Ω—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–µ–¥–º–µ—Ç—ã, –∫—É—Ä—Å—ã –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è, –∏—Å—Ö–æ–¥—è –∏–∑ —Å–≤–æ–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π.", 
            "question": None, 
            "answer": None
        },
        {
            "name": "–ö–æ–Ω–µ—Ü —Ä–∞–∑–¥–µ–ª–∞", 
            "text": "–ú–æ–ª–æ–¥–µ—Ü! \nüéâ–¢–µ–ø–µ—Ä—å —Ç—ã –∑–Ω–∞–µ—à—å, —á—Ç–æ —Ç–∞–∫–æ–µ –ò–û–¢ ‚Äî –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è. üöÄ–≠—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–≤–æ—ë –æ–±—É—á–µ–Ω–∏–µ –ø–æ–¥ —Å–µ–±—è:\n–í—ã–±–∏—Ä–∞—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –∫—É—Ä—Å—ã üìö\n–†–∞–∑–≤–∏–≤–∞—Ç—å —Å–≤–æ–∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã üí™\n–°–æ–∑–¥–∞–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —É—á–µ–±–Ω—ã–π –ø–ª–∞–Ω üåü", 
            "question": None, 
            "answer": None
        }
        ]
    },
    {
        "name": "–û–Ω–ª–∞–π–Ω –∫—É—Ä—Å—ã", 
        "callback_data": "online_courses", 
        "topics": [
        {
            "name": "–ß—Ç–æ —ç—Ç–æ?", 
            "text": "–û–Ω–ª–∞–π–Ω-–∫—É—Ä—Å—ã  ‚Äî —ç—Ç–æ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ –æ–±—É—á–∞—Ç—å—Å—è –¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–æ. –û–Ω–∏ –æ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä –¥–∏—Å—Ü–∏–ø–ª–∏–Ω, –≤–∫–ª—é—á–∞—è –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ –Ω–∞—É–∫–∏, –≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è.",
            "question": None, 
            "answer": None
        },
        {
            "name": "–ö–∞–∫ –≤–æ–π—Ç–∏?", 
            "text": "–ß—Ç–æ–±—ã –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –æ–±—É—á–µ–Ω–∏—é –Ω–∞ –æ–Ω–ª–∞–π–Ω –∫—É—Ä—Å–∞—Ö, —Ç–µ–±–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–≤–µ—Å—Ç–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫ –≤ –¥–æ–º–µ–Ω–µ @urfu.me.\n\n–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ ivan.ivanov@at.urfu.ru ‚Äî –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø–æ—á—Ç–æ–≤—ã–º –∞–¥—Ä–µ—Å–æ–º.\n\n–õ–æ–≥–∏–Ω @at.urfu.ru: –≠—Ç–æ—Ç –ª–æ–≥–∏–Ω –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞, —Ç–∞–∫–∏—Ö –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞ Office365 –∏–ª–∏ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–∞.\n\n–ü–æ—á—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å @urfu.me: –ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ –∞–¥—Ä–µ—Å–∞ –Ω–∞ –Ω–µ–≥–æ –±—É–¥—É—Ç –ø–æ—Å—Ç—É–ø–∞—Ç—å –≤–∞–∂–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –æ–±—É—á–µ–Ω–∏–µ–º –Ω–∞ –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å–∞—Ö.", 
            "question": None, 
            "answer": None
        }
        ]
    },
    ]
}
]


class ManegerOnboarding():
    def __init__(self, data: list[dict]):
        self.__data = data

        if len(data) > 1:
            self.__is_active_add_course = True
        else:
            self.__is_active_add_course = False

    
    @property
    def onboarding(self) -> dict:
        return self.__data[self.get_index_onboarding()]
    

    def is_active_add_course(self) -> bool:
        return self.__is_active_add_course
    

    def get_additional_courses(self) -> list[tuple[int, str, int]]:
        list = []
        for i in range(len(self.__data)):
            if i != 0:
                list.append((i, self.__data[i]["name_course"], len(self.__data[i]["sections"])))
        return list
    

    def get_index_onboarding(self) -> int:
        return 0
    

    def get_info_course(self, index:int) -> dict:
        return self.__data[index]
    

    def get_info_course_topic(self, index, callback_data_topic) -> dict | None:
        course = self.get_info_course(index)
        split_callback = callback_data_topic.split("__")
        index = int(split_callback[-1])
        callback_data_section = "__".join(split_callback[:-1])

        for section in course["sections"]:
            if section["callback_data"] == callback_data_section:
                return section["topics"][index]
        return None
    

MANAGER_ONB = ManegerOnboarding(test_data_course)
